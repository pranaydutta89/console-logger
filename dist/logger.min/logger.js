var consoleLogger;!function(e){!function(e){var t=function(){function e(){}return e.prototype.trim=function(e){try{return e.toString().trim()}catch(t){return e.toString().replace(/^\s+|\s+$/gm,"")}},e}();e.utilities=t}(e.utils||(e.utils={}));e.utils}(consoleLogger||(consoleLogger={}));var consoleLogger;!function(e){var t=new e.utils.utilities;!function(e){e[e.warn=1]="warn",e[e.fatal=2]="fatal",e[e.error=3]="error",e[e.debug=4]="debug",e[e.log=5]="log",e[e.info=6]="info"}(e.logType||(e.logType={}));var o=e.logType;!function(e){e[e.jsonNotPresent=0]="jsonNotPresent",e[e.ajaxError=1]="ajaxError",e[e.historyEmpty=2]="historyEmpty",e[e.configNotDone=3]="configNotDone"}(e.errorType||(e.errorType={}));var n=(e.errorType,function(){function e(){this.browserDetails=window.navigator.userAgent}return e}());e.logWrapperClass=n;var r=function(){function e(){this.toSend=1,this.headers="application/json; charset=utf-8",this.isFramework=!1}return e}();e.sendDataSettings=r;var s=function(){function e(e,t,o){var n=this;this.logging=!0,this.showAsHtml=!1,this.logHistory=[],this.error=function(e){var t=n.performCommonJob(e,3);return n.sendDataToService(t),t},this.fatal=function(e){var t=n.performCommonJob(e,2);return n.sendDataToService(t),t},this.debug=function(e){var t=n.performCommonJob(e,4);return n.sendData&&2==n.sendData.toSend&&n.sendDataToService(t),t},this.warn=function(e){var t=n.performCommonJob(e,1);return n.sendData&&2==n.sendData.toSend&&n.sendDataToService(t),t},t&&(this.showAsHtml=t),this.logging=e,this.config(o)}return e.prototype.config=function(e){e&&(this.sendData=new r,e.toSend&&(this.sendData.toSend=e.toSend),e.headers&&(this.sendData.headers=e.headers),e.url&&(this.sendData.url=e.url),e.isFramework&&(this.sendData.isFramework=e.isFramework))},e.prototype.performCommonJob=function(e,t){var o=this.messageFormatting(e);return o.messageType=t,this.logHistory.push(o),this.showLog(o),o},e.prototype.messageFormatting=function(e){var o=new n;return o.eventDT=new Date,"object"==typeof e?(o.message=e.message?t.trim(e.message):"NA",o.stack=e.stack?t.trim(e.stack):"NA"):"string"==typeof e?(o.message=t.trim(e),o.stack="NA"):(o.message="UnSupported format, logging actual data:"+e,o.stack="NA"),o},e.prototype.showLog=function(e){if(console&&this.logging&&e){var t;switch(t=e.messageType&&5!==e.messageType?"Type:"+o[e.messageType]+"\n\nMessage:"+e.message+"\n\nStack:"+e.stack||"NA\n\nEvent Time:"+e.eventDT:e.message,e.messageType){case 1:console.warn(t);break;case 2:case 3:console.error(t);break;case 6:console.info(t);break;case 4:case 5:console.log(t)}this.showLogAsHtml(e)}},e.prototype.showLogAsHtml=function(e){if(this.showAsHtml){var t,n=document.getElementsByTagName("body")[0],r=document.createElement("div");t=e.messageType&&5!==e.messageType?'<div style="padding: 2%;text-align: center;font-family: "Bookman", Georgia, "Times New Roman", serif"><strong>Type:</strong>'+o[e.messageType]+"<br/><strong>Message:</strong>"+e.message+"<br/><strong>Stack:</strong>"+e.stack+"<br/><strong>Event Time:</strong>"+e.eventDT+"<br/></div><br/>":'<div style="padding: 2%;text-align: center;font-family: "Bookman", Georgia, "Times New Roman", serif"><strong>Type:</strong>Log<br/><strong>Message:</strong>'+e.message+"</div><br/>",r.innerHTML=t,n.appendChild(r)}},e.prototype.handleError=function(e,t){switch(e){case 1:this.messageManager("Ajax Error:"+t||"");break;case 0:this.messageManager("Json is undefined ,try including json2/json3 "+t||"");break;case 2:this.messageManager("No recent activity yet!! "+t||"");break;case 3:this.messageManager("Initial config not done. "+t||"")}},e.prototype.getConfig=function(){return this.sendData},e.prototype.sendDataToService=function(e){if(this.sendData&&!this.sendData.isFramework)if(JSON){var t=this,o=new XMLHttpRequest;o.open("POST",this.sendData.url),o.setRequestHeader("Content-Type",this.sendData.headers),o.send(JSON.stringify(e)),o.onreadystatechange=function(){(4!=this.readyState||200!=this.status)&&t.handleError(1,this.statusText)}}else this.handleError(0)},e.prototype.messageManager=function(e){var t=new n;t.message=e,t.messageType=5,this.showLog(t)},e.prototype.history=function(){if(0==this.logHistory.length)this.handleError(2);else for(var e in this.logHistory)this.messageManager("Sr No:"+(parseInt(e,10)+1).toString()),this.showLog(this.logHistory[e])},e}();e.logger=s}(consoleLogger||(consoleLogger={}));var consoleLogger;!function(e){e.app=function(){try{return angular.module("consoleLogger",[]).service(e)}catch(t){}}();var t=function(){function t(e){this.$http=e,this.isConfigDone=!1}return t.prototype.configNotDone=function(){this.loggerVar||(this.loggerVar=new e.logger(!0)),this.loggerVar.handleError(3)},t.prototype.config=function(t,o,n){this.isConfigDone=!0,n.isFramework=!0,this.loggerVar=new e.logger(t,o,n)},t.prototype.error=function(e){this.isConfigDone?this.sendDataToService(this.loggerVar.error(e)):this.configNotDone()},t.prototype.debug=function(e){this.isConfigDone?this.sendDataToService(this.loggerVar.debug(e)):this.configNotDone()},t.prototype.fatal=function(e){this.isConfigDone?this.sendDataToService(this.loggerVar.fatal(e)):this.configNotDone()},t.prototype.warn=function(e){this.isConfigDone?this.sendDataToService(this.loggerVar.warn(e)):this.configNotDone()},t.prototype.history=function(){this.isConfigDone?this.loggerVar.history():this.configNotDone()},t.prototype.sendDataToService=function(e){var t=this;this.$http({url:this.loggerVar.getConfig().url,method:"POST",data:JSON.stringify(e),headers:this.loggerVar.getConfig().headers}).then(function(){},function(e){t.loggerVar.handleError(1,e.statusText)})},t.$inject=["$http"],t}();e.loggerService=t}(consoleLogger||(consoleLogger={}));